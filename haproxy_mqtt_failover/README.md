# HAProxy MQTT Failover Add-on for Home Assistant

![HAProxy MQTT Failover](https://github.com/7290903/addon-repository1/tree/main/haproxy_mqtt_failover/icon.png)

## üì¶ –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç Home Assistant Add-on –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å **HAProxy** –≤–Ω—É—Ç—Ä–∏ Home Assistant OS –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ TCP-—Ñ–µ–π–ª–æ–≤–µ—Ä–∞ MQTT –±—Ä–æ–∫–µ—Ä–æ–≤.

–û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å MQTT (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Mosquitto`, `EMQX`, `VerneMQ` –∏ –¥—Ä.).

## üõ†Ô∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü—Ä–æ–∫—Å–∏ TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º MQTT-–±—Ä–æ–∫–µ—Ä–∞–º
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –±—Ä–æ–∫–µ—Ä –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ
- –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ UI Home Assistant
- –õ—ë–≥–∫–∏–π –∏ –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–§–∞–π–ª `config.json` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä—è–º–æ –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:

```json
{
  "port": 1885,
  "brokers": ["192.168.2.10", "192.168.2.11"]
}
```

## üßæ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `mqtt://homeassistant:1885`.

–í –∫–∞—á–µ—Å—Ç–≤–µ –±—Ä–æ–∫–µ—Ä–æ–≤ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è IP-–∞–¥—Ä–µ—Å–∞, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ `brokers`.

---

## üì∑ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Add-on –≤ Home Assistant

–î–æ–±–∞–≤—å—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–µ–µ, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç UI –∞–¥–¥–æ–Ω–∞. –ü—Ä–∏–º–µ—Ä:

![UI Screenshot](https://github.com/7290903/addon-repository1/tree/main/haproxy_mqtt_failover/options.png)


---

## ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ Home Assistant OS 9‚Äì16
- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã: `aarch64`, `armv7`, `amd64`

---

## üß† –ê–≤—Ç–æ—Ä

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ RunHouse –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–∞—Ö —É–º–Ω–æ–≥–æ –¥–æ–º–∞.  
GitHub: (RunHouse([https://github.com/7290903/addon-repository1]))

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
